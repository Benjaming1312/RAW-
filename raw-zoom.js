function aToImg(t){var i=t.attr("style").split("url('")[1].split("');")[0];t.attr("style","padding-top: 0"),t.append('<img class="img-responsive" src="'+i+'">')}function zoomInApend(t){var i=t.children("img").attr("src");t.children("img").after('<div class="fd"></div>'),t.after('<div class="max"><img src="'+i+'"></div>')}function hoverZoom(t){var i=t;max=t.siblings(".max"),img=t.siblings(".max").children("img"),fd=t.children("img").siblings(".fd"),i.on("mouseover",function(){max.attr("style","display: block;"),fd.attr("style","display: block;")}),i.on("mouseout",function(){max.attr("style","display: none;"),fd.attr("style","display: none;")}),i.on("mousemove",function(t){var e=t.clientX-i.offset().left-fd.outerWidth()/2,o=t.clientY-i.offset().top-fd.outerHeight()/2,n=i.innerWidth()-fd.outerWidth(),s=i.innerHeight()-fd.outerHeight();e<=0?e=0:e>=n&&(e=n),o<=0?o=0:o>=s&&(o=s),fd.attr("style","left:"+e+"px;top:"+o+"px;");var r=e/n,a=o/s;img.attr("style","left:"+r*(max.innerWidth()-img.outerWidth())+"px;top:"+a*(max.innerHeight()-img.outerHeight())+"px;")})}$(function(){$(".product-photo").each(function(){aToImg($(this)),zoomInApend($(this)),$(this).on("mouseover",function(){hoverZoom($(this))})})});